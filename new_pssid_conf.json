{
    "meta-definitions":{
        "probe-stats": {
    	    "probe-name": "RPi1",
    	    "probe-location": "Winterhall"
    	}
    },
    
    "amqp_url": "amqp://elastic:elastic@pssid-elk.miserver.it.umich.edu",

    "bssid-scan-definitions" : {
    	"primary_BSSIDs": {
    	    "interface": "primary-network-interface",
    	    "profiles": "all-profiles",
    	    "unknown_SSID_warning": true,
    	    "schedule": [ "schedule_every_10_min" ],
    	    "priority": 1,
            "meta-info": "probe-stats"
    	}
    },

    "archiver-definitions": {
        "example-rabbitmq-archive": {
            "archiver": "rabbitmq",
            "data": {
                "_url": "amqp://elastic:elastic@pssid-elk.miserver.it.umich.edu",
                "routing-key": "pscheduler_raw"                
            }
        },
        "example-syslog-archive": {
            "archiver": "syslog",
            "data": {
                "ident": "pSSID22 result",
                "facility" : "local3"
            }
        }
    },


    "schedule-definitions": {
        "schedule_every_1_min": {
            "repeat": "*/1 * * * *"
        },
        "schedule_every_2_min": {
            "repeat": "*/2 * * * *"
        },
        "schedule_every_5_min": {
            "repeat": "*/5 * * * *"
        },
        "schedule_every_10_min": {
            "repeat": "*/10 * * * *"
        },
        "schedule_every_1_hour": {
            "repeat": "0 * * * *"
        },
        "schedule_at_minute_10": {
            "repeat": "10 * * * *"
        },
        "schedule_at_minute_20": {
            "repeat": "20 * * * *"
        },
        "schedule_at_minute_30": {
            "repeat": "30 * * * *"
        },
        "schedule_at_minute_40": {
            "repeat": "40 * * * *"
        },
        "schedule_at_minute_50": {
            "repeat": "50 * * * *"
        },
        "schedule_every_2_hours": {
            "repeat": "0 */2 * * *"
        },
        "schedule_every_4_hours": {
            "repeat": "0 */4 * * *"
        },
        "schedule_every_5_hours": {
            "repeat": "0 */5 * * *"
        },
        "schedule_Tuesday_10AM": {
            "repeat": "0 10 * * 2"
        },
        "schedule_Tuesday_10:10AM": {
            "repeat": "10 10 * * 2"
        }       
    },

    "bssid-channel-definitions": {
    	"EduRoam-channels": [ 11, 12, 13, 14, 15 ],
    	"MWireless-channels": [ 1, 2, 3, 4, 5, 10, 64, 11, 44, 36 ]
    },

    "ssid-profile-definitions" : {
        "MWireless-profile": {
            "ssid": "MWireless",
            "channels": "MWireless-channels",
            "channel-mismatch-warning": true,
            "channel-mismatch-connect": false,
            "min-signal": -73,
            "min-qualifying": 5, 
            "auth-method": {
                "type": "User",
                "uid": "fakeUID",
                "password": "fakepassword",
                "connection-flags": {
                    "paranoid": false,
                    "pscheduler-restart": false,
                    "apache-restart": false,
                    "postgres-restart": false,
                    "wait-time": 0
                }
            }
        },

        "EduRoam-profile": {
            "ssid": "eduroam",
            "channels": "EduRoam-channels",
            "channel-mismatch-warning": true,
            "channel-mismatch-connect": false,
            "min-signal": -70,
            "min-qualifying": 5,
            "auth-method": {
                "type": "User",
                "uid": "fakeUID",
                "password": "fakepassword",
                "connection-flags": {
                    "paranoid": true,
                    "pscheduler-restart": false,
                    "apache-restart": false,
                    "postgres-restart": false,
                    "wait-time": 0
                }
            }
        }
    },

    "ssid-group-definitions": {
	   "all-profiles": ["EduRoam-profile", "MWireless-profile"]
    },

    "network-interface-definitions": {
    	"primary-network-interface": "wlp0s20f0u11",
    	"future-network-interface": "wlan1"
    },

    "test-definitions": {
        "layer_2":{
            "type": "dot1x",
            "spec":{
                "password": "FILE_MWIRELESS_PWD"
            }
        },
        "layer_3":{
            "type": "dhcp",
            "spec":{
                
            }
        },
        "test_rtt": {
            "type": "rtt",
            "spec": {
                "dest": "www.umich.edu"
                }
        },
        "latency_perfsonar_seb": {
            "type": "latency",
            "spec": {
                "dest": "perfsonar-bin-seb.umnet.umich.edu"
                }
        },
        "throughput_perfsonar_seb": {
            "type": "throughput",
            "spec": {
                "dest": "perfsonar-bin-seb.umnet.umich.edu"
                }
        },
        "http_mguest_portal": {
            "type": "http",
            "spec": {
                "url": "http://portal-mguest-lb.dsc.umich.edu"
                }
        },
        "test_latency": {
            "type": "latency",
            "spec": {
                "dest": "perfsonar-bin-arbl.umnet.umich.edu"
                }
        },
        "test_throughput_ul": {
            "type": "throughput",
            "spec": {
                "dest": "perfsonar-bin-arbl.umnet.umich.edu"
                }
        },
        "test_throughput_dl": {
            "type": "throughput",
            "spec": {
                "source": "perfsonar-bin-arbl.umnet.umich.edu"
                }
        },
        "test_http_umich": {
            "type": "http",
            "spec": {
                "url": "http://umich.edu"
                }
        },
        "test_http_google": {
            "type": "http",
            "spec": {
                "url": "http://google.com"
                }
        },
        "test_dns_a": {
            "type": "dns",
            "spec": {
                "query": "www.umich.edu",
                "record": "a"
                }
        },
        "test_dns_aaaa": {
            "type": "dns",
            "spec": {
                "query": "www.umich.edu",
                "record": "aaaa"
                }
        }
    },

    "job-definitions": {
        "basic-test-suite": {
            "tests": [ "example-test-dns-a", "example-test-http-google" ],
            "continue-if": ".[0].runs[0].\"application/json\".succeeded"
        }
    },

    "batch-definitions": {
        "example-batch-basic": {
            "profiles": ["MWireless-profile"],
            "BSSIDs": "primary-BSSIDs",
            "jobs": [ "test_rtt" , "latency_perfsonar_seb"],
            "archives": [ "example-rabbitmq-archive", "example-syslog-archive" ],
            "schedule": [ "schedule_every_1_min", "schedule_every_2_min" ],
            "priority": 6,
            "ttl": 45,
            "meta-info": "probe-stats"
        },
        "throughput": {
            "profiles":"all_profiles",
            "BSSIDs": "primary_BSSIDs",
            "jobs": ["throughput_perfsonar_seb"],
            "archives": ["rabbitmq_archive","syslog_archive"],
            "schedule": ["schedule_every_1_hour","schedule_at_minute_30"],
            "priority": 2,
            "ttl": 120,
            "meta_information": "probe_stats",
            "throughput_threshold": 95000000
        },
        "latency": {
            "profiles":"all_profiles",
            "BSSIDs": "primary_BSSIDs",
            "jobs": ["latency_perfsonar_seb"],
            "archives": ["rabbitmq_archive","syslog_archive"],
            "schedule": ["schedule_every_1_min","schedule_at_minute_40"],
            "priority": 3,
            "ttl": 120,
            "meta_information": "probe_stats"
        },
        "http": {
            "profiles":"all_profiles",
            "BSSIDs": "primary_BSSIDs",
            "jobs": ["http_mguest_portal"],
            "archives": ["rabbitmq_archive","syslog_archive"],
            "schedule": ["schedule_every_1_min","schedule_at_minute_50"],
            "priority": 9,
            "ttl": 120,
            "meta_information": "probe_stats"
        }
    },

    "batches": [
        "example-batch-basic",
        "throughput",
        "http"
    ]
} 